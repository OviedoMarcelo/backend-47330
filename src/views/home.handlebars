<body>
  {{> navbar user=user}}
  <div class="container-fluid">
    <div class="row">
      <!-- Filters and Orders -->
      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Filtros</h5>
            <form action="/home" method="GET">
              <div class="mb-3">
                <label for="categoryFilter" class="form-label">Categor√≠a</label>
                <select class="form-select" id="categoryFilter" name="category">
                  <option value="">Todos</option>
                  <option value="android">Android</option>
                  <option value="iphone">IPhone</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="priceSort" class="form-label">Ordenar por precio</label>
                <select class="form-select" id="priceSort" name="sort">
                  <option value="">Ninguno</option>
                  <option value="asc">Ascendente</option>
                  <option value="desc">Descendente</option>
                </select>
              </div>
              <input type="submit" class="btn btn-primary" value="Aplicar filtros">
            </form>
          </div>
        </div>
      </div>
      <!-- Product List -->
      <div class="col-md-9">
        <div class="row">
          {{#each prods.payload}}
            <div class="col-lg-4 col-md-6 mb-4">
              <div class="card h-100">
                <h5 class="card-header">{{this.title}}</h5>
                <img src="{{this.thumbnails.[0]}}" class="card-img-top" alt="{{this.title}}">
                <div class="card-body">
                  <p class="card-text">{{this.price}}</p>
                  <p class="card-text">{{this.description}}</p>
                  <a class="btn btn-primary" href="/home/6553963932b3bb6f327d547b/product/{{this._id}}" role="button">Agregar al carrito</a>
                </div>
              </div>
            </div>
          {{/each}}
        </div>
      </div>
      <!-- Navigation nav -->
      <nav class="col-12" aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
          {{#if prods.hasPrevPage}}
            <li class="page-item">
              <a class="page-link" href="{{prods.prevLink}}" tabindex="-1" aria-disabled="true">Anterior</a>
            </li>
          {{else}}
            <li class="page-item disabled">
              <span class="page-link" tabindex="-1" aria-disabled="true">Anterior</span>
            </li>
          {{/if}}
          {{#each prods.pages}}
            <li class="page-item{{#if this.active}} active{{/if}}">
              <a class="page-link" href="{{this.link}}">{{this.number}}</a>
            </li>
          {{/each}}
          {{#if prods.hasNextPage}}
            <li class="page-item">
              <a class="page-link" href="{{prods.nextLink}}" tabindex="-1" aria-disabled="true">Siguiente</a>
            </li>
          {{else}}
            <li class="page-item disabled">
              <span class="page-link" tabindex="-1" aria-disabled="true">Siguiente</span>
            </li>
          {{/if}}
        </ul>
      </nav>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>

</body>
